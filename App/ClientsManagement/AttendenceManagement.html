<div class="darkBackGround">
    <div ng-include="'App/Partials/Header.html'"></div>

    <div class="right_col" role="main">
        <div class="page-title">
            <div class="title_left">
                <h3>Attendence Management</h3>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2></h2>
                        <div class="title_right">
                            <div class="pull-right top_search">
                                <button type="button" class="btn btn-round btn-success" ng-click="saveAttendence()">Save Attendence</button>
                            </div>
                            <div class="pull-right top_search">
                                <button type="button" class="btn btn-round btn-success" ng-click="submitAttendance()">Submit Attendence</button>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">
                                    Select Contract
                                </label>
                                <select class="select2_single form-control" tabindex="-1" ng-change="getUsersList()" ng-model="selectedContract">
                                    <option ng-repeat="contract in listOfContracts" value="{{contract.Id}}">{{contract.ContractId}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <div id="paginator"></div>
                    <div ng-show="listOfUsers.length >0">

                        <div><h2>Employes List</h2></div>
                        <br />
                        <div class="table-responsive">
                            <table class="table table-striped table-responsive jambo_table ">
                                <thead>
                                    <tr>
                                        <th>Contract Id</th>
                                        <th>Employee Id</th>
                                        <th>Employee Name</th>
                                        <th>Employee Designation</th>
                                        <th>Attendance</th>
                                        <th>No Of Hours Worked</th>
                                        <th>Remarks</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="user in listOfUsers">
                                        <td>{{user.ContractId}}</td>
                                        <td>{{user.EmployeeId}}</td>
                                        <td>{{user.EmployeeName}}</td>
                                        <td>{{user.Designation}}</td>
                                        <td><form ng-hide="user.IsSubmitted"><switch id="enabled" name="enabled" ng-model="user.Attended" class="green"></switch></form></td>
                                        <td><input ng-disabled="user.IsSubmitted" class="form-control" type="text" ng-model=user.NoOfHours /></td>
                                        <td><input ng-disabled="user.IsSubmitted" class="form-control" type="text" ng-model=user.Remarks /></td>
                                    </tr>
                                    <tr></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div ng-show="listOfUsers.length <=0 && $scope.selectedContract">
                        <center>
                            <img src="Assets/Images/spinner.gif" style="height:50px;width:50px" />
                        </center>
                    </div>

                </div>
            </div>
        </div>

    </div>
    <div ng-include="'App/Partials/Footer.html'"></div>
</div>